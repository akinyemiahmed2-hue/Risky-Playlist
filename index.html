<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Risky</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#07060a;
      --bg1:#0c0812;
      --ink:#fff;
      --muted: rgba(255,255,255,.72);

      --pink:#ff4fa3;
      --pink2:#ff2d8f;

      --paper:#f7f2f5;
      --paper2:#ffffff;
      --paperInk:#120b12;

      --shadow: 0 28px 90px rgba(0,0,0,.55);
      --shadow2: 0 18px 50px rgba(0,0,0,.35);

      --sans: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial;
      --serif: "Playfair Display", serif;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--ink);
      background:
        radial-gradient(900px 520px at 16% 12%, rgba(255,79,163,.16), transparent 60%),
        radial-gradient(820px 560px at 82% 40%, rgba(255,255,255,.07), transparent 66%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow:hidden;
    }

    /* soft living glow */
    .glow{
      position:fixed; inset:-25%;
      background:
        radial-gradient(closest-side, rgba(255,79,163,.12), transparent 65%) 18% 18%/38% 38% no-repeat,
        radial-gradient(closest-side, rgba(255,255,255,.06), transparent 70%) 80% 46%/44% 44% no-repeat;
      filter: blur(26px);
      animation: breathe 10s ease-in-out infinite;
      pointer-events:none;
      z-index:0;
      opacity:.95;
    }
    @keyframes breathe{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}

    .wrap{
      position:relative;
      z-index:1;
      height:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding: 18px 14px 26px;
      gap: 14px;
    }

    header{
      width:min(920px, 94vw);
      text-align:center;
      margin-top: 8px;
      user-select:none;
    }
    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.74);
      font-size:12px;
      letter-spacing:.2px;
    }
    .dot{
      width:7px;height:7px;border-radius:999px;
      background: linear-gradient(180deg, var(--pink), var(--pink2));
      box-shadow: 0 12px 30px rgba(255,79,163,.22);
    }
    h1{
      font-family: var(--serif);
      font-weight: 600;
      font-size: clamp(34px, 7vw, 64px);
      margin: 10px 0 6px;
      letter-spacing:.2px;
    }
    .sub{
      margin:0 auto;
      max-width: 62ch;
      color: var(--muted);
      font-size: 13.5px;
      line-height: 1.6;
    }

    /* Stack area */
    .stage{
      width:min(880px, 94vw);
      height: min(66vh, 640px);
      display:grid;
      place-items:center;
      position:relative;
      margin-top: 6px;
      touch-action: none; /* we handle drag ourselves */
    }

    /* Polaroid card */
    .card{
      position:absolute;
      width: min(420px, 86vw);
      border-radius: 14px;
      box-shadow: var(--shadow2);
      background: linear-gradient(180deg, var(--paper2), var(--paper));
      color: var(--paperInk);
      padding: 14px 14px 16px;
      transform-origin: 50% 90%;
      user-select:none;
      will-change: transform;
      touch-action: none;
    }
    /* stacked look for cards behind */
    .card[data-depth="1"]{ transform: translateY(10px) rotate(-2deg) scale(.985); opacity:.96; }
    .card[data-depth="2"]{ transform: translateY(18px) rotate(2deg) scale(.97); opacity:.92; }
    .card[data-depth="3"]{ transform: translateY(26px) rotate(-1deg) scale(.955); opacity:.88; }
    .card[data-depth="4"]{ transform: translateY(34px) rotate(1deg) scale(.94); opacity:.84; }

    .photo{
      width:100%;
      aspect-ratio: 4/5;
      border-radius: 10px;
      overflow:hidden;
      background:#eee;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
    }
    .photo img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .meta{
      padding: 12px 6px 0;
      display:flex;
      flex-direction:column;
      gap: 6px;
    }
    .row{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
    }
    .song{
      margin:0;
      font-weight: 700;
      font-size: 15px;
      letter-spacing:.1px;
    }
    .artist{
      margin:0;
      font-size: 12.5px;
      color: rgba(18,11,18,.70);
      font-weight: 600;
    }
    .note{
      margin:0;
      font-size: 13.5px;
      line-height: 1.55;
      color: rgba(18,11,18,.86);
    }
    .tag{
      font-size: 12px;
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(255,79,163,.10);
      border: 1px solid rgba(255,79,163,.20);
      color: rgba(18,11,18,.78);
      font-weight: 700;
    }

    /* swipe hint */
    .hint{
      width:min(880px, 94vw);
      text-align:center;
      color: rgba(255,255,255,.68);
      font-size: 12px;
      user-select:none;
    }

    /* Playlist reveal */
    .reveal{
      width:min(880px, 94vw);
      display:flex;
      justify-content:center;
      opacity:0;
      transform: translateY(10px);
      pointer-events:none;
      transition: opacity .5s ease, transform .5s ease;
      margin-top: 6px;
    }
    .reveal.show{
      opacity:1;
      transform: translateY(0);
      pointer-events:auto;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      height: 48px;
      padding: 0 18px;
      border-radius: 14px;
      background: linear-gradient(180deg, var(--pink), var(--pink2));
      color:#0b0710;
      text-decoration:none;
      font-weight: 800;
      font-size: 14px;
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 18px 44px rgba(255,79,163,.20);
    }

    /* drag visuals for top card */
    .card.is-top{
      cursor: grab;
    }
    .card.is-top:active{
      cursor: grabbing;
    }

    /* small screens */
    @media (max-width: 420px){
      .stage{ height: min(64vh, 620px); }
      .note{ font-size: 13px; }
    }
  </style>
</head>

<body>
  <div class="glow" aria-hidden="true"></div>

  <div class="wrap">
    <header>
      <div class="kicker"><span class="dot"></span> swipe through</div>
      <h1>Risky</h1>
      <p class="sub">
        Not ‚Äúdanger‚Äù risky ‚Äî just different üòÖ
        A small playlist page you can swipe through.
      </p>
    </header>

    <section class="stage" id="stage" aria-label="Swipe cards"></section>

    <div class="hint" id="hint">Tip: swipe left or right ‚ú®</div>

    <div class="reveal" id="reveal">
      <a class="btn" id="playlistBtn" href="#" target="_blank" rel="noreferrer">Open the playlist</a>
    </div>
  </div>

  <script>
    // Paste your playlist link here:
    const PLAYLIST_LINK = "PASTE_YOUR_PLAYLIST_LINK_HERE";

    // Your cards (edit copy freely, keep it short):
    const CARDS = [
      { title:"Sal√©", artist:"Lojay", tag:"good mood", img:"images/IMG_5324.jpeg", note:"No stress. Just vibes." },
      { title:"When Will You Be Here", artist:"VHEN√â", tag:"soft", img:"images/IMG_5325.jpeg", note:"Busy days, still present." },
      { title:"Girls Deserve More Money", artist:"Majeed", tag:"facts", img:"images/IMG_5326.jpeg", note:"Because obviously üòÑ" },
      { title:"Karat", artist:"Adebaby", tag:"clean", img:"images/IMG_5327.jpeg", note:"Quiet confidence. Premium energy." },
      { title:"DEARLY", artist:"Wande Coal & Qing Madi", tag:"warm", img:"images/IMG_5328.jpeg", note:"This one is just sunshine." },
      { title:"Tenner", artist:"Lojay", tag:"outside", img:"images/IMG_5329.jpeg", note:"Easy day. Easy vibe." },
      { title:"Risky", artist:"VHEN√â", tag:"title", img:"images/IMG_5330.jpeg", note:"Unconventional. Open mind. Happy risk." }
    ];

    const stage = document.getElementById("stage");
    const reveal = document.getElementById("reveal");
    const hint = document.getElementById("hint");
    const playlistBtn = document.getElementById("playlistBtn");
    playlistBtn.href = PLAYLIST_LINK;

    // Build stack (last card at bottom)
    let stack = CARDS.map((c, i) => ({...c, id: i}));
    render();

    function render(){
      stage.innerHTML = "";
      const topN = stack.slice(0, 5); // render top 5 for performance
      topN.forEach((c, idx) => {
        const depth = Math.min(idx, 4);
        const el = document.createElement("article");
        el.className = "card";
        el.dataset.id = c.id;
        el.dataset.depth = depth;
        if(idx === 0) el.classList.add("is-top");

        el.innerHTML = `
          <div class="photo"><img src="${c.img}" alt=""></div>
          <div class="meta">
            <div class="row">
              <div>
                <p class="song">${escapeHtml(c.title)}</p>
                <p class="artist">${escapeHtml(c.artist)}</p>
              </div>
              <span class="tag">${escapeHtml(c.tag)}</span>
            </div>
            <p class="note">${escapeHtml(c.note)}</p>
          </div>
        `;
        stage.appendChild(el);
      });

      if(stack.length === 0){
        hint.textContent = "Done üòÑ";
        reveal.classList.add("show");
      }else{
        reveal.classList.remove("show");
      }

      bindTopCard();
      applyDepthTransforms();
    }

    function applyDepthTransforms(){
      // Re-apply depth attributes to visible cards
      const cards = [...stage.querySelectorAll(".card")];
      cards.forEach((el, idx)=>{
        el.dataset.depth = Math.min(idx, 4);
        el.classList.toggle("is-top", idx === 0);
      });
    }

    function bindTopCard(){
      function bindTopCard(){
  const top = stage.querySelector(".card.is-top");
  if(!top) return;

  let startX = 0, startY = 0;
  let dx = 0, dy = 0;
  let dragging = false;

  const start = (x,y) => {
    dragging = true;
    startX = x; startY = y;
    dx = 0; dy = 0;
    top.style.transition = "none";
  };

  const move = (x,y) => {
    if(!dragging) return;
    dx = x - startX;
    dy = y - startY;

    const rot = clamp(dx / 18, -18, 18);
    top.style.transform = `translate(${dx}px, ${dy}px) rotate(${rot}deg)`;

    const next = stage.querySelectorAll(".card")[1];
    if(next){
      const lift = Math.min(Math.abs(dx) / 20, 10);
      next.style.transition = "transform .2s ease, opacity .2s ease";
      const depth = Number(next.dataset.depth || 1);
      next.style.transform = `translateY(${Math.max(0, depth*8 - lift)}px) rotate(${depth%2? -2:2}deg) scale(${1 - depth*0.012 + lift*0.001})`;
      next.style.opacity = String(0.96 - depth*0.03 + lift*0.002);
    }
  };

  const end = () => {
    if(!dragging) return;
    dragging = false;

    const throwX = Math.abs(dx) > 110;
    if(throwX){
      dismiss(top, dx);
    }else{
      top.style.transition = "transform .28s ease";
      top.style.transform = "";
      applyDepthTransforms();
    }
  };

  // Pointer (works on most modern browsers)
  top.addEventListener("pointerdown", (e) => {
    start(e.clientX, e.clientY);
    const onMove = (ev) => move(ev.clientX, ev.clientY);
    const onUp = () => {
      window.removeEventListener("pointermove", onMove);
      window.removeEventListener("pointerup", onUp);
      end();
    };
    window.addEventListener("pointermove", onMove, {passive:false});
    window.addEventListener("pointerup", onUp, {passive:true});
  });

  // Touch fallback (reliable on iPhone Safari)
  top.addEventListener("touchstart", (e) => {
    const t = e.touches[0];
    start(t.clientX, t.clientY);
  }, {passive:true});

  top.addEventListener("touchmove", (e) => {
    e.preventDefault();
    const t = e.touches[0];
    move(t.clientX, t.clientY);
  }, {passive:false});

  top.addEventListener("touchend", () => end(), {passive:true});
}
      };

      const onMove = (e) => {
        if(!dragging) return;
        e.preventDefault();
        const p = point(e);
        dx = p.x - startX;
        dy = p.y - startY;

        const rot = clamp(dx / 18, -18, 18);
        top.style.transform = `translate(${dx}px, ${dy}px) rotate(${rot}deg)`;

        // subtle push for next card
        const next = stage.querySelectorAll(".card")[1];
        if(next){
          const lift = Math.min(Math.abs(dx) / 20, 10);
          next.style.transition = "transform .2s ease, opacity .2s ease";
          // gently pull it forward by reducing its Y translate
          const depth = Number(next.dataset.depth || 1);
          next.style.transform = `translateY(${Math.max(0, depth*8 - lift)}px) rotate(${depth%2? -2:2}deg) scale(${1 - depth*0.012 + lift*0.001})`;
          next.style.opacity = String(0.96 - depth*0.03 + lift*0.002);
        }
      };

      const onUp = () => {
        dragging = false;
        window.removeEventListener("pointermove", onMove);
        window.removeEventListener("pointerup", onUp);

        const throwX = Math.abs(dx) > 110; // threshold
        if(throwX){
          dismiss(top, dx);
        }else{
          // snap back
          top.style.transition = "transform .28s ease";
          top.style.transform = "";
          // reset others
          applyDepthTransforms();
        }
      };

      top.addEventListener("pointerdown", onDown, {passive:true});
    }

    function dismiss(cardEl, dx){
      const dir = dx > 0 ? 1 : -1;
      cardEl.style.transition = "transform .35s cubic-bezier(.2,.9,.2,1), opacity .35s ease";
      const outX = dir * (window.innerWidth * 1.2);
      const outY = (Math.random() * 140) - 70;
      const rot = dir * (18 + Math.random()*10);
      cardEl.style.transform = `translate(${outX}px, ${outY}px) rotate(${rot}deg)`;
      cardEl.style.opacity = "0";

      // remove from stack after animation
      setTimeout(()=>{
        stack.shift();
        if(stack.length === 0){
          stage.innerHTML = "";
          hint.textContent = "Okay üòÑ";
          reveal.classList.add("show");
        }else{
          render();
        }
      }, 360);
    }

    function point(e){
      return { x: e.clientX, y: e.clientY };
    }
    function clamp(n,min,max){ return Math.max(min, Math.min(max,n)); }
    function escapeHtml(str){
      return String(str ?? "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }
  </script>
</body>
</html>
